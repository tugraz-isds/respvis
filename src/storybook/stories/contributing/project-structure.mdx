import {Meta} from "@storybook/blocks";

<Meta title='Contributing/Project Structure'/>

# Project Structure



## Source Directory

The source directory of RespVis contains the following directories:

```
├── assets
├── data
├── examples
├── libs
├── packages
└── storybook
```

- `assets`: Contains all assets, which are used either directly in a
  RespVis package or serve as reference. If used directly, an SVG is
  bundled and included as raw string by rollup. Assets are grouped by
  their source, with license included.
- `data`: Contains all datasets used in the self-contained examples
  and/or in the live documentation.
- `examples`: Contains the source files of the self-contained examples
  provided by RespVis.
- `libs`: Contains the libraries which RespVis is dependent on. For the
  time of this writing, this includes only D3.
- `packages`: The sub-packages of RespVis.
- `storybook`: All code that is only solely responsible for creating the
  storybook live documentation.



## Example Chart Directory

All examples in `src/examples/**` are fully self-contained. This means after
the build step all files which are necessary for serving an example chart
are included in its corresponding folder in `dist`.

To achieve consistency, the following file structure must be applied when adding
a new self-contained chart example::

```
├── <chart>
│   ├── <chart>.css
│   ├── <chart>.html
│   ├── data (generated)
│   │   ├── <dataset>.js (generated)
│   │   └── source.txt (generated)
│   ├── libs (generated)
│   │   ├── d3-7.6.0 (generated)
│   │   │   └── ... (generated)
│   │   └── respvis (generated)
│   │       └── ... (generated)
```



## Gulp Tasks Directory

The following file structure gives an overview of the gulp
tasks. Tasks which must be adapted when adding new chart examples are
marked accordingly (files generated by gulp are marked):

```
gulp-tasks
   ├── bundle-css
   │   ├── build-css.ts
   │   └── css-configs.ts
   ├── bundle-declarations.ts
   ├── bundle-js
   │   ├── bundle-configs.ts
   │   └── bundle-js.ts
   ├── clean-example-dependencies.ts
   ├── constants
   │   ├── modules.ts
   │   └── types.ts
   ├── copy-example-dependencies
   │   ├── copy-example-dependencies.ts
   │   ├── copy-path-data.ts (adapt paths here if data should be generated in src examples)
   │   └── copy-path-libs.ts (adapt paths here if libs should be generated in src examples)
   ├── copy-examples.ts
   ├── gen-svg-data-uris.ts
   ├── gulp-plugin
   │   └── code-strip-plugin.ts
   ├── paths
   │   ├── absolute-paths.ts
   │   ├── create-paths.ts
   │   └── project-absolute-paths.ts
   ├── rollup-plugin
   │   └── code-strip-plugin.ts
   ├── util
   │   └── stream-to-promise.ts
   └── watcher.ts

```


## Package Structure

All packages share the same structure:

```
├── package.json
├── ts
│   └── ...
├── css
│   └── ...
├── package (generated)
│   ├── dependency-based
│   │   ├── cjs
│   │   │   ├── <package-name>.d.ts
│   │   │   ├── <package-name>.js
│   │   │   ├── <package-name>.js.map
│   │   │   ├── <package-name>.min.js
│   │   │   ├── <package-name>.min.js.map
│   │   │   └── <package-name>.min.js.gz
│   │   ├── esm
│   │   │   └── ...
│   │   └── iife
│   │   │   └── ...
│   ├── standalone
│   │   ├── cjs
│   │   │   └── ...
│   │   ├── esm
│   │   │   └── ...
│   │   └── iife
│   │   │   └── ...
│   └── <package-name>.css
```

- package.json: The package.json contains, for the most part, the same content
as the package.json of the root directory and the other RespVis packages. The
key differences are:
- The root package.json contains the workspace configuration.
- The names of the packages differ.
- The listed peer-dependencies differ.
